angular.module("hm.util",[]).factory("hmUtils",[function(){var r;return r=this,{array:function(){return{copy:function(e){var n,t,o,u;if(n=[],!angular.isArray(e))return n;for(o=0,u=e.length;o<u;o++)t=e[o],n[n.length]=r.object.copy(t);return n},sort:function(r,e){var n,t,o,u,i,a,l,c,f;if(!angular.isArray(r))return r;for(u=a=0,c=r.length;a<c;u=++a)for(t=r[u],i=l=0,f=r.length;l<f;i=++l)o=r[i],i>u&&e(t,o)&&(n=r[u],r[u]=r[i],r[i]=n);return r}}},object:function(){return{copy:function(e){var n,t,o;if(n={},!angular.isObject(e))return n;for(t in e)o=e[t],angular.isArray(o)&&(n[t]=r.array.copy(o)),angular.isObject(o)&&(n[t]=r.object.copy(o)),n[t]=o;return n},replace:function(e,n){var t,o,u,i,a;if(t=r.object.copy(e),n)return t;u={};for(a in n)o=n[a],i=t[o],i&&(u[a]=i,delete t(o));for(a in u)t[a]=u[a];return t}}},tree:function(){return{parse:function(e,n){var t,o,u,i,a;return a={code:"code",pcode:"pcode",sort:"sort",sorts:function(r,e){return r[this.sort]>=e[this.sort]}},angular.isArray(e)?(o=angular.extend({},a,n),u=r.array.copy(e),t=function(e){var n,i,a,l,c,f,s,d;for(n=[],c=0,s=u.length;c<s;c++)i=u[c],i[o.pcode]&&e[o.code]&&i[o.pcode]===e[o.code]&&(n.push(i),i.level=e.level+1,t(i));for(e.leaf=n.length>0?"N":"Y",n=r.array.sort(n,o.sorts),l=f=0,d=n.length;f<d;l=++f)a=n[l],a.sort=l+1;return e.children=n,e},(i=function(){var e,n,i,a,l,c,f,s;for(n=[],a=0,c=u.length;a<c;a++)e=u[a],e[o.pcode]&&""!==e[o.pcode]||(e.level=1,n.push(e),t(e));for(r.array.sort(n,o.sorts),i=l=0,f=n.length;l<f;i=++l)s=n[i],s.sort=i+1;return n})()):e}}}}}]),angular.module("hm",["hm.device","hm.log","hm.http","hm.resource","hm.ui.load","hm.ui.jq","hm.ui.screenfull","hm.ui.toggleClass","hm.util"]),angular.module("hm.device",[]),angular.module("hm.http",[]),angular.module("hm.log",[]),angular.module("hm.resource",[]),angular.module("hm.ui.load",[]),angular.module("hm").provider("hm",[function(){this.defaults={serverUrl:""},this.tokenHeaders={},this.$get=function(){return{defaults:this.defaults}}}]),angular.module("hm.device").factory("hmDevice",["$window",function(r){return{isIE:function(){return!!navigator.userAgent.match(/MSIE/i)},isSmartDevice:function(){var e;return e=r.navigator.userAgent||r.navigator.vendor||r.opera,/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)}}}]),angular.module("hm.http").factory("hmHttp",["$http","hm",function(r,e){var n,t,o;return t=function(r){return e.defaults.serverUrl+r},o=function(r){return r=r?r:{},$.param(r)},n=function(){var r,e;return r=Array.prototype.slice.call(arguments),e=[],r.forEach(function(r){if(r)return e[e.length]=r}),angular.extend({},e)},{get:function(e,n){return r({method:"GET",url:t(e),params:n})},post:function(e,u,i){return r({method:"POST",url:t(e),data:o(u),headers:n(i,{"Content-Type":"application/x-www-form-urlencoded"})})},put:function(e,u,i){return r({method:"PUT",url:t(e),data:o(u),headers:n(i,{"Content-Type":"application/x-www-form-urlencoded"})})},payload:function(e,o,u){return r({method:"POST",url:t(e),data:o,headers:n(u,{"Content-Type":"application/json"})})},"delete":function(e){return r({method:"DELETE",url:t(e)})}}}]),angular.module("hm.log").factory("hmLog",["$log",function(r){return{debug:function(){if(r.isDebugEnabled())return r.debug(arguments)},info:function(){if(r.isInfoEnabled())return r.info(arguments)},warn:function(){if(r.isWarnEnabled())return r.warn(arguments)},error:function(){return r.error(arguments)},log:function(){if(r.isDebugEnabled())return r.debug(arguments)}}}]),angular.module("hm.resource").factory("hmResource",["$q","$timeout",function(r,e){return{load:function(n){var t,o;return t=r.defer(),o=t.promise,o.success=function(r){return o.then(r)},o.error=function(r){return o.then(null,r)},e(function(){return t.resolve(n)},100),o}}}]),angular.module("hm.ui.load").factory("hmUiLoad",["$q","$timeout","$document",function(r,e,n){var t;return t=[],{loadScript:function(o){var u,i;return t[o]?t[o].promise:(u=r.defer(),i=n[0].createElement("script"),i.src=o,i.onload=function(r){return e(function(){return u.resolve(r)})},i.onerror=function(r){return e(function(){return u.reject(r)})},n[0].body.appendChild(i),t[o]=u,u.promise)},loadCSS:function(o){var u,i;return t[o]?t[o].promise:(u=r.defer(),i=n[0].createElement("link"),i.rel="stylesheet",i.type="text/css",i.href=o,script.onload=function(r){return e(function(){return u.resolve(r)})},script.onerror=function(r){return e(function(){return u.reject(r)})},n[0].body.appendChild(script),t[o]=u,u.promise)},load:function(e){var n,t,o;return e=angular.isArray(e)?e:e.split(/\s+/),o=this,n=r.defer(),t=n.promise,angular.forEach(e,function(r){return t=t.then(function(){return r.indexOf(".css")>=0?o.loadCSS(r):o.loadScript(r)})}),n.resolve(),t}}}]),angular.module("hm.ui.jq",["hm.ui.load","hm.log"]).directive("hmUiJq",["hmUiLoad","hmLog","JQ_ASSETS_LIB","$timeout",function(r,e,n,t){var o;return{restrict:"A",compile:o=function(o,u){var i;if(!angular.isFunction(o[u.hmUiJq])&&!n[u.hmUiJq])throw new Error('hm-ui-jq: The "'+u.hmUiJq+'" function does not exist');return i=function(o,u,i){var a,l,c;return l=function(){var r;return r=[],i.uiOptions&&(r=o.$eval("["+i.uiOptions+"]")),r},a=function(){return t(function(){return u[i.hmUiJq].apply(u,l())},0,!1)},c=function(){if(i.uiRefresh)return o.$watch(i.uiRefresh,function(){return a()})},i.ngModel&&u.is("select,input,textarea")&&u.bind("change",function(){return u.trigger("input")}),n[i.hmUiJq]?r.load(n[i.hmUiJq]).then(function(){return a(),c()})["catch"](function(r){return e.warn(r)}):(a(),c())}}}}]),angular.module("hm.ui.screenfull",["hm.ui.load"]).directive("hmUiScreenfull",["hmUiLoad","ASSETS_LIB","$document",function(r,e,n){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(t,o,u){return o.addClass("hide"),r.load(e.screenfull).then(function(){var r;return r=window.screenfull,r.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&o.removeClass("hide"),o.on("click",function(){var e;return u.target&&(e=$(u.target)[0]),r.toggle(e)}),n.on(r.raw.fullscreenchange,function(){return r.isFullscreen?o.addClass("active"):o.removeClass("active")})})}}}]),angular.module("hm.ui.toggleClass",[]).directive("hmUiToggleClass",[function(){return{restrict:"AC",link:function(r,e,n){return e.on("click",function(r){var t,o,u;return r.preventDefault(),t=n.hmUiToggleClass.split(","),u=n.target?n.target.split(","):Array(e),o=0,angular.forEach(t,function(r){var e;return e=u[u.length&&o],$(e).toggleClass(r),o+=1}),$(e).toggleClass("active")})}}}]);
//# sourceMappingURL=hm.min.js.map

angular.module("hm.util",[]).factory("hmUtils",[function(){var r;return r=this,r.array={copy:function(e){var n,t,o,u;if(n=[],!angular.isArray(e))return n;for(o=0,u=e.length;o<u;o++)t=e[o],n[n.length]=r.object.copy(t);return n},sort:function(r,e){var n,t,o,u,a,i,l,c,f;if(!angular.isArray(r))return r;for(u=i=0,c=r.length;i<c;u=++i)for(t=r[u],a=l=0,f=r.length;l<f;a=++l)o=r[a],a>u&&e(t,o)&&(n=r[u],r[u]=r[a],r[a]=n);return r}},r.object={copy:function(e){var n,t,o;if(n={},!angular.isObject(e))return n;for(t in e)o=e[t],angular.isArray(o)&&(n[t]=r.array.copy(o)),angular.isObject(o)&&(n[t]=r.object.copy(o)),n[t]=o;return n},replace:function(e,n){var t,o,u,a,i;if(t=r.object.copy(e),n)return t;u={};for(i in n)o=n[i],a=t[o],a&&(u[i]=a,delete t(o));for(i in u)t[i]=u[i];return t}},r.tree={parse:function(e,n){var t,o,u,a,i;return i={code:"code",pcode:"pcode",sort:"sort",sorts:function(r,e){return r[this.sort]>=e[this.sort]}},angular.isArray(e)?(o=angular.extend({},i,n),u=r.array.copy(e),t=function(e){var n,a,i,l,c,f,s,d;for(n=[],c=0,s=u.length;c<s;c++)a=u[c],a[o.pcode]&&e[o.code]&&a[o.pcode]===e[o.code]&&(n.push(a),a.level=e.level+1,t(a));for(e.leaf=n.length>0?"N":"Y",n=r.array.sort(n,o.sorts),l=f=0,d=n.length;f<d;l=++f)i=n[l],i.sort=l+1;return e.children=n,e},(a=function(){var e,n,a,i,l,c,f,s;for(n=[],i=0,c=u.length;i<c;i++)e=u[i],e[o.pcode]&&""!==e[o.pcode]||(e.level=1,n.push(e),t(e));for(r.array.sort(n,o.sorts),a=l=0,f=n.length;l<f;a=++l)s=n[a],s.sort=a+1;return n})()):e},leaf:function(r){var e,n;return e=[],angular.isArray(r)?(n=function(r){var t,o,u;for(o=0,u=r.length;o<u;o++)t=r[o],"Y"!==t.leaf&&n(t.children),e[e.length]=t;return e})(r):e}},{array:r.array,object:r.object,tree:r.tree}}]),angular.module("hm",["hm.device","hm.log","hm.http","hm.resource","hm.ui.load","hm.ui.jq","hm.ui.screenfull","hm.ui.toggleClass","hm.util"]),angular.module("hm.device",[]),angular.module("hm.http",[]),angular.module("hm.log",[]),angular.module("hm.resource",[]),angular.module("hm.ui.load",[]),angular.module("hm").provider("hm",[function(){this.defaults={serverUrl:""},this.tokenHeaders={},this.$get=function(){return{defaults:this.defaults}}}]),angular.module("hm.device").factory("hmDevice",["$window",function(r){return{isIE:function(){return!!navigator.userAgent.match(/MSIE/i)},isSmartDevice:function(){var e;return e=r.navigator.userAgent||r.navigator.vendor||r.opera,/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)}}}]),angular.module("hm.http").factory("hmHttp",["$http","hm",function(r,e){var n,t,o;return t=function(r){return e.defaults.serverUrl+r},o=function(r){return r=r?r:{},$.param(r)},n=function(){var r,e;return r=Array.prototype.slice.call(arguments),e=[],r.forEach(function(r){if(r)return e[e.length]=r}),angular.extend({},e)},{get:function(e,n){return r({method:"GET",url:t(e),params:n})},post:function(e,u,a){return r({method:"POST",url:t(e),data:o(u),headers:n(a,{"Content-Type":"application/x-www-form-urlencoded"})})},put:function(e,u,a){return r({method:"PUT",url:t(e),data:o(u),headers:n(a,{"Content-Type":"application/x-www-form-urlencoded"})})},payload:function(e,o,u){return r({method:"POST",url:t(e),data:o,headers:n(u,{"Content-Type":"application/json"})})},"delete":function(e){return r({method:"DELETE",url:t(e)})}}}]),angular.module("hm.log").factory("hmLog",["$log",function(r){return{debug:function(){if(r.isDebugEnabled())return r.debug(arguments)},info:function(){if(r.isInfoEnabled())return r.info(arguments)},warn:function(){if(r.isWarnEnabled())return r.warn(arguments)},error:function(){return r.error(arguments)},log:function(){if(r.isDebugEnabled())return r.debug(arguments)}}}]),angular.module("hm.resource").factory("hmResource",["$q","$timeout",function(r,e){return{load:function(n){var t,o;return t=r.defer(),o=t.promise,o.success=function(r){return o.then(r)},o.error=function(r){return o.then(null,r)},e(function(){return t.resolve(n)},100),o}}}]),angular.module("hm.ui.load").factory("hmUiLoad",["$q","$timeout","$document",function(r,e,n){var t;return t=[],{loadScript:function(o){var u,a;return t[o]?t[o].promise:(u=r.defer(),a=n[0].createElement("script"),a.src=o,a.onload=function(r){return e(function(){return u.resolve(r)})},a.onerror=function(r){return e(function(){return u.reject(r)})},n[0].body.appendChild(a),t[o]=u,u.promise)},loadCSS:function(o){var u,a;return t[o]?t[o].promise:(u=r.defer(),a=n[0].createElement("link"),a.rel="stylesheet",a.type="text/css",a.href=o,script.onload=function(r){return e(function(){return u.resolve(r)})},script.onerror=function(r){return e(function(){return u.reject(r)})},n[0].body.appendChild(script),t[o]=u,u.promise)},load:function(e){var n,t,o;return e=angular.isArray(e)?e:e.split(/\s+/),o=this,n=r.defer(),t=n.promise,angular.forEach(e,function(r){return t=t.then(function(){return r.indexOf(".css")>=0?o.loadCSS(r):o.loadScript(r)})}),n.resolve(),t}}}]),angular.module("hm.ui.jq",["hm.ui.load","hm.log"]).directive("hmUiJq",["hmUiLoad","hmLog","JQ_ASSETS_LIB","$timeout",function(r,e,n,t){var o;return{restrict:"A",compile:o=function(o,u){var a;if(!angular.isFunction(o[u.hmUiJq])&&!n[u.hmUiJq])throw new Error('hm-ui-jq: The "'+u.hmUiJq+'" function does not exist');return a=function(o,u,a){var i,l,c;return l=function(){var r;return r=[],a.uiOptions&&(r=o.$eval("["+a.uiOptions+"]")),r},i=function(){return t(function(){return u[a.hmUiJq].apply(u,l())},0,!1)},c=function(){if(a.uiRefresh)return o.$watch(a.uiRefresh,function(){return i()})},a.ngModel&&u.is("select,input,textarea")&&u.bind("change",function(){return u.trigger("input")}),n[a.hmUiJq]?r.load(n[a.hmUiJq]).then(function(){return i(),c()})["catch"](function(r){return e.warn(r)}):(i(),c())}}}}]),angular.module("hm.ui.screenfull",["hm.ui.load"]).directive("hmUiScreenfull",["hmUiLoad","ASSETS_LIB","$document",function(r,e,n){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(t,o,u){return o.addClass("hide"),r.load(e.screenfull).then(function(){var r;return r=window.screenfull,r.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&o.removeClass("hide"),o.on("click",function(){var e;return u.target&&(e=$(u.target)[0]),r.toggle(e)}),n.on(r.raw.fullscreenchange,function(){return r.isFullscreen?o.addClass("active"):o.removeClass("active")})})}}}]),angular.module("hm.ui.toggleClass",[]).directive("hmUiToggleClass",[function(){return{restrict:"AC",link:function(r,e,n){return e.on("click",function(r){var t,o,u;return r.preventDefault(),t=n.hmUiToggleClass.split(","),u=n.target?n.target.split(","):Array(e),o=0,angular.forEach(t,function(r){var e;return e=u[u.length&&o],$(e).toggleClass(r),o+=1}),$(e).toggleClass("active")})}}}]);
//# sourceMappingURL=hm.min.js.map

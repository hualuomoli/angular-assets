{"version":3,"sources":["hm.min.js"],"names":["angular","module","provider","this","defaults","serverUrl","tokenHeaders","$get","config","theme","factory","$window","isIE","navigator","userAgent","match","isSmartDevice","ua","test","$http","hm","_getHeaders","_getUrl","_seriliz","url","params","$","param","array","validArray","Array","prototype","slice","call","arguments","forEach","ele","length","extend","get","method","post","headers","data","Content-Type","put","payload","delete","$log","debug","isDebugEnabled","info","isInfoEnabled","warn","isWarnEnabled","error","log","$q","$timeout","load","datas","deferred","promise","defer","success","fn","then","resolve","$document","_deferred","_loaded","_promise","loadScript","src","script","loaded","createElement","onload","e","onerror","reject","body","appendChild","loadCSS","href","style","rel","type"],"mappings":"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","file":"hm.min.js","sourcesContent":["angular.module('hm', ['hm.device', 'hm.load', 'hm.theme', 'hm.log', 'hm.http', 'hm.resource']);\n\nangular.module('hm.device', []);\n\nangular.module('hm.http', []);\n\nangular.module('hm.load', []);\n\nangular.module('hm.log', []);\n\nangular.module('hm.resource', []);\n\nangular.module('hm.theme', []);\n\nangular.module('hm').provider('hm', [\n  function() {\n    this.defaults = {\n      serverUrl: ''\n    };\n    this.tokenHeaders = {};\n    this.$get = function() {\n      return {\n        defaults: this.defaults\n      };\n    };\n  }\n]);\n\nangular.module('hm.theme').provider('hmTheme', [\n  function() {\n    this.config = {\n      theme: ''\n    };\n    return this.$get = function() {\n      return {\n        config: this.config\n      };\n    };\n  }\n]);\n\nangular.module('hm.device').factory('hmDevice', [\n  '$window', function($window) {\n    return {\n      isIE: function() {\n        return !!navigator.userAgent.match(/MSIE/i);\n      },\n      isSmartDevice: function() {\n        var ua;\n        ua = $window['navigator']['userAgent'] || $window['navigator']['vendor'] || $window['opera'];\n        return /iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(ua);\n      }\n    };\n  }\n]);\n\n\n/*\n * http处理\n * get\n * post --> application/x-www-form-urlencoded\n * put  --> application/x-www-form-urlencoded\n * delete\n * payload --> application/json\n */\nangular.module('hm.http').factory('hmHttp', [\n  '$http', 'hm', function($http, hm) {\n    var _getHeaders, _getUrl, _seriliz;\n    _getUrl = function(url) {\n      return hm.defaults.serverUrl + url;\n    };\n    _seriliz = function(params) {\n      params = !!params ? params : {};\n      return $.param(params);\n    };\n    _getHeaders = function() {\n      var array, validArray;\n      array = Array.prototype.slice.call(arguments);\n      validArray = [];\n      array.forEach(function(ele) {\n        if (!!ele) {\n          return validArray[validArray.length] = ele;\n        }\n      });\n      return angular.extend({}, validArray);\n    };\n    return {\n      get: function(url, params) {\n        return $http({\n          method: 'GET',\n          url: _getUrl(url),\n          params: params\n        });\n      },\n      post: function(url, params, headers) {\n        return $http({\n          method: 'POST',\n          url: _getUrl(url),\n          data: _seriliz(params),\n          headers: _getHeaders(headers, {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          })\n        });\n      },\n      put: function(url, params, headers) {\n        return $http({\n          method: 'PUT',\n          url: _getUrl(url),\n          data: _seriliz(params),\n          headers: _getHeaders(headers, {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          })\n        });\n      },\n      payload: function(url, params, headers) {\n        return $http({\n          method: 'POST',\n          url: _getUrl(url),\n          data: params,\n          headers: _getHeaders(headers, {\n            'Content-Type': 'application/json'\n          })\n        });\n      },\n      \"delete\": function(url) {\n        return $http({\n          method: 'DELETE',\n          url: _getUrl(url)\n        });\n      }\n    };\n  }\n]);\n\nangular.module('hm.log').factory('hmLog', [\n  '$log', function($log) {\n    return {\n      debug: function() {\n        if ($log.isDebugEnabled()) {\n          return $log.debug(arguments);\n        }\n      },\n      info: function() {\n        if ($log.isInfoEnabled()) {\n          return $log.info(arguments);\n        }\n      },\n      warn: function() {\n        if ($log.isWarnEnabled()) {\n          return $log.warn(arguments);\n        }\n      },\n      error: function() {\n        return $log.error(arguments);\n      },\n      log: function() {\n        if ($log.isDebugEnabled()) {\n          return $log.debug(arguments);\n        }\n      }\n    };\n  }\n]);\n\nangular.module('hm.resource').factory('hmResource', [\n  '$q', '$timeout', function($q, $timeout) {\n    return {\n      load: function(datas) {\n        var deferred, promise;\n        deferred = $q.defer();\n        promise = deferred.promise;\n        promise.success = function(fn) {\n          return promise.then(fn);\n        };\n        promise.error = function(fn) {\n          return promise.then(null, fn);\n        };\n        $timeout((function() {\n          return deferred.resolve(datas);\n        }), 100);\n        return promise;\n      }\n    };\n  }\n]);\n\nangular.module('hm.load').factory('hmLoad', [\n  '$q', '$timeout', '$document', function($q, $timeout, $document) {\n    var _deferred, _loaded, _promise;\n    _loaded = [];\n    _promise = false;\n    _deferred = $q.defer();\n    return {\n      loadScript: function(src) {\n        var deferred, script;\n        if (loaded[src]) {\n          return loaded[src].promise;\n        }\n        deferred = $q.defer();\n        script = $document[0].createElement('script');\n        script.src = src;\n        script.onload = function(e) {\n          return $timeout(function() {\n            return deferred.resolve(e);\n          });\n        };\n        script.onerror = function(e) {\n          return $timeout(function() {\n            return deferred.reject(e);\n          });\n        };\n        $document[0].body.appendChild(script);\n        loaded[src] = deferred;\n        return deferred.promise;\n      },\n      loadCSS: function(href) {\n        var deferred, style;\n        if (loaded[href]) {\n          return loaded[href].promise;\n        }\n        deferred = $q.defer();\n        style = $document[0].createElement('link');\n        style.rel = 'stylesheet';\n        style.type = 'text/css';\n        style.href = href;\n        script.onload = function(e) {\n          return $timeout(function() {\n            return deferred.resolve(e);\n          });\n        };\n        script.onerror = function(e) {\n          return $timeout(function() {\n            return deferred.reject(e);\n          });\n        };\n        $document[0].body.appendChild(script);\n        loaded[href] = deferred;\n        return deferred.promise;\n      }\n    };\n  }\n]);\n"],"sourceRoot":"/source/"}
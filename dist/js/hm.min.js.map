{"version":3,"sources":["hm.min.js"],"names":["angular","module","factory","_self","this","array","copy","datas","_datas","data","k","len","isArray","length","object","sort","callback","_temp","d1","d2","i","j","l","len1","_data","key","value","isObject","replace","config","_key","_value","tree","parse","_addChild","_config","_parse","defaultConfig","code","pcode","sorts","extend","pData","_children","child","index","push","level","leaf","children","_result","r","treeDatas","_leaf","provider","defaults","serverUrl","tokenHeaders","$get","$window","isIE","navigator","userAgent","match","isSmartDevice","ua","test","$http","hm","_getHeaders","_getUrl","_seriliz","url","params","$","param","validArray","Array","prototype","slice","call","arguments","forEach","ele","get","method","post","headers","Content-Type","put","payload","delete","$log","debug","isDebugEnabled","info","isInfoEnabled","warn","isWarnEnabled","error","log","$q","$timeout","load","deferred","promise","defer","success","fn","then","resolve","$document","_loaded","loadScript","src","script","createElement","onload","e","onerror","reject","body","appendChild","loadCSS","href","style","rel","type","srcs","self","split","indexOf","directive","hmUiLoad","hmLog","JQ_ASSETS_LIB","hmUiJqCompilingFunction","restrict","compile","attrs","hmUiJqLinkingFunction","isFunction","hmUiJq","Error","scope","callPlugin","getOptions","refresh","linkOptions","uiOptions","$eval","apply","uiRefresh","$watch","ngModel","is","bind","trigger","$parse","template","treeData","onSelect","onCheck","onRadio","loadData","initSelect","initRadio","initCheck","treeControl","link","element","c_check_some","c_checked","c_tree_type_checkbox","c_tree_type_radio","c_tree_type_select","c_unchecked","check_children","checker_parent","checkes","collapse_children","expand_branch","expanded_child","expanded_parent","for_each_branch","for_each_child","for_each_parent","get_checked","get_parent","on_treeData_change","radio_branch","radioed_branch","select_branch","selected_branch","uid","uncheck_children","iconExpand","iconCollapse","iconLeaf","iconChecked","iconUnchecked","iconSomeChecked","iconRadioed","iconunRadioed","iconRadioForbid","radioOnlyLeaf","lazyLoad","treeType","tree_rows","tree_type","branch","parent","parent_uid","b","do_f","ref","results","root_branch","p","selected","user_select_branch","radio","user_radio_branch","tree_radio_icon","visible","expanded","user_expand_branch","checked","check_array","total","unchecked","user_check_branch","branches","Math","random","tree_icon","tree_check_icon","results1","getCheckes","ASSETS_LIB","addClass","screenfull","window","enabled","removeClass","on","target","toggle","raw","fullscreenchange","isFullscreen","classes","targets","preventDefault","hmUiToggleClass","_class","toggleClass"],"mappings":"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","file":"hm.min.js","sourcesContent":["\n/*\n * 集合工具\n */\nangular.module('hm.util', []).factory('hmUtils', [\n  function() {\n    var _self;\n    _self = this;\n    _self.array = {\n      copy: function(datas) {\n        var _datas, data, k, len;\n        _datas = [];\n        if (!angular.isArray(datas)) {\n          return _datas;\n        }\n        for (k = 0, len = datas.length; k < len; k++) {\n          data = datas[k];\n          _datas[_datas.length] = _self.object.copy(data);\n        }\n        return _datas;\n      },\n      sort: function(datas, callback) {\n        var _temp, d1, d2, i, j, k, l, len, len1;\n        if (!angular.isArray(datas)) {\n          return datas;\n        }\n        for (i = k = 0, len = datas.length; k < len; i = ++k) {\n          d1 = datas[i];\n          for (j = l = 0, len1 = datas.length; l < len1; j = ++l) {\n            d2 = datas[j];\n            if (j > i && callback(d1, d2)) {\n              _temp = datas[i];\n              datas[i] = datas[j];\n              datas[j] = _temp;\n            }\n          }\n        }\n        return datas;\n      }\n    };\n    _self.object = {\n      copy: function(data) {\n        var _data, key, value;\n        _data = {};\n        if (!angular.isObject(data)) {\n          return _data;\n        }\n        for (key in data) {\n          value = data[key];\n          if (angular.isArray(value)) {\n            _data[key] = _self.array.copy(value);\n          }\n          if (angular.isObject(value)) {\n            _data[key] = _self.object.copy(value);\n          }\n          _data[key] = value;\n        }\n        return _data;\n      },\n      replace: function(data, config) {\n        var _data, _key, _temp, _value, key;\n        _data = _self.object.copy(data);\n        if (!!config) {\n          return _data;\n        }\n        _temp = {};\n        for (key in config) {\n          _key = config[key];\n          _value = _data[_key];\n          if (!!_value) {\n            _temp[key] = _value;\n            delete _data(_key);\n          }\n        }\n        for (key in _temp) {\n          _data[key] = _temp[key];\n        }\n        return _data;\n      }\n    };\n    _self.tree = {\n      parse: function(datas, config) {\n        var _addChild, _config, _datas, _parse, defaultConfig;\n        defaultConfig = {\n          \"code\": 'code',\n          \"pcode\": 'pcode',\n          \"sort\": \"sort\",\n          \"sorts\": function(d1, d2) {\n            return d1[this.sort] >= d2[this.sort];\n          }\n        };\n        if (!angular.isArray(datas)) {\n          return datas;\n        }\n        _config = angular.extend({}, defaultConfig, config);\n        _datas = _self.array.copy(datas);\n        _addChild = function(pData) {\n          var _children, _data, child, index, k, l, len, len1;\n          _children = [];\n          for (k = 0, len = _datas.length; k < len; k++) {\n            _data = _datas[k];\n            if (!!_data[_config.pcode] && !!pData[_config.code] && _data[_config.pcode] === pData[_config.code]) {\n              _children.push(_data);\n              _data.level = pData.level + 1;\n              _addChild(_data);\n            }\n          }\n          pData.leaf = _children.length > 0 ? 'N' : 'Y';\n          _children = _self.array.sort(_children, _config.sorts);\n          for (index = l = 0, len1 = _children.length; l < len1; index = ++l) {\n            child = _children[index];\n            child.sort = index + 1;\n          }\n          pData.children = _children;\n          return pData;\n        };\n        _parse = function() {\n          var _data, _result, index, k, l, len, len1, r;\n          _result = [];\n          for (k = 0, len = _datas.length; k < len; k++) {\n            _data = _datas[k];\n            if (!_data[_config.pcode] || _data[_config.pcode] === '') {\n              _data.level = 1;\n              _result.push(_data);\n              _addChild(_data);\n            }\n          }\n          _self.array.sort(_result, _config.sorts);\n          for (index = l = 0, len1 = _result.length; l < len1; index = ++l) {\n            r = _result[index];\n            r.sort = index + 1;\n          }\n          return _result;\n        };\n        return _parse();\n      },\n      leaf: function(treeDatas) {\n        var _datas, _leaf;\n        _datas = [];\n        if (!angular.isArray(treeDatas)) {\n          return _datas;\n        }\n        _leaf = function(treeDatas) {\n          var data, k, len;\n          for (k = 0, len = treeDatas.length; k < len; k++) {\n            data = treeDatas[k];\n            if (data.leaf !== 'Y') {\n              _leaf(data.children);\n            }\n            _datas[_datas.length] = data;\n          }\n          return _datas;\n        };\n        return _leaf(treeDatas);\n      }\n    };\n    return {\n      array: _self.array,\n      object: _self.object,\n      tree: _self.tree\n    };\n  }\n]);\n\nangular.module('hm', ['hm.device', 'hm.log', 'hm.http', 'hm.resource', 'hm.ui.load', 'hm.ui.jq', 'hm.ui.screenfull', 'hm.ui.toggleClass', 'hm.ui.nav.tree', 'hm.util']);\n\nangular.module('hm.device', []);\n\nangular.module('hm.http', []);\n\nangular.module('hm.log', []);\n\nangular.module('hm.resource', []);\n\nangular.module('hm.ui.load', []);\n\nangular.module('hm').provider('hm', [\n  function() {\n    this.defaults = {\n      serverUrl: ''\n    };\n    this.tokenHeaders = {};\n    this.$get = function() {\n      return {\n        defaults: this.defaults\n      };\n    };\n  }\n]);\n\nangular.module('hm.device').factory('hmDevice', [\n  '$window', function($window) {\n    return {\n      isIE: function() {\n        return !!navigator.userAgent.match(/MSIE/i);\n      },\n      isSmartDevice: function() {\n        var ua;\n        ua = $window['navigator']['userAgent'] || $window['navigator']['vendor'] || $window['opera'];\n        return /iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(ua);\n      }\n    };\n  }\n]);\n\n\n/*\n * http处理\n * get\n * post --> application/x-www-form-urlencoded\n * put  --> application/x-www-form-urlencoded\n * delete\n * payload --> application/json\n */\nangular.module('hm.http').factory('hmHttp', [\n  '$http', 'hm', function($http, hm) {\n    var _getHeaders, _getUrl, _seriliz;\n    _getUrl = function(url) {\n      return hm.defaults.serverUrl + url;\n    };\n    _seriliz = function(params) {\n      params = !!params ? params : {};\n      return $.param(params);\n    };\n    _getHeaders = function() {\n      var array, validArray;\n      array = Array.prototype.slice.call(arguments);\n      validArray = [];\n      array.forEach(function(ele) {\n        if (!!ele) {\n          return validArray[validArray.length] = ele;\n        }\n      });\n      return angular.extend({}, validArray);\n    };\n    return {\n      get: function(url, params) {\n        return $http({\n          method: 'GET',\n          url: _getUrl(url),\n          params: params\n        });\n      },\n      post: function(url, params, headers) {\n        return $http({\n          method: 'POST',\n          url: _getUrl(url),\n          data: _seriliz(params),\n          headers: _getHeaders(headers, {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          })\n        });\n      },\n      put: function(url, params, headers) {\n        return $http({\n          method: 'PUT',\n          url: _getUrl(url),\n          data: _seriliz(params),\n          headers: _getHeaders(headers, {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          })\n        });\n      },\n      payload: function(url, params, headers) {\n        return $http({\n          method: 'POST',\n          url: _getUrl(url),\n          data: params,\n          headers: _getHeaders(headers, {\n            'Content-Type': 'application/json'\n          })\n        });\n      },\n      \"delete\": function(url) {\n        return $http({\n          method: 'DELETE',\n          url: _getUrl(url)\n        });\n      }\n    };\n  }\n]);\n\nangular.module('hm.log').factory('hmLog', [\n  '$log', function($log) {\n    return {\n      debug: function() {\n        if ($log.isDebugEnabled()) {\n          return $log.debug(arguments);\n        }\n      },\n      info: function() {\n        if ($log.isInfoEnabled()) {\n          return $log.info(arguments);\n        }\n      },\n      warn: function() {\n        if ($log.isWarnEnabled()) {\n          return $log.warn(arguments);\n        }\n      },\n      error: function() {\n        return $log.error(arguments);\n      },\n      log: function() {\n        if ($log.isDebugEnabled()) {\n          return $log.debug(arguments);\n        }\n      }\n    };\n  }\n]);\n\nangular.module('hm.resource').factory('hmResource', [\n  '$q', '$timeout', function($q, $timeout) {\n    return {\n      load: function(datas) {\n        var deferred, promise;\n        deferred = $q.defer();\n        promise = deferred.promise;\n        promise.success = function(fn) {\n          return promise.then(fn);\n        };\n        promise.error = function(fn) {\n          return promise.then(null, fn);\n        };\n        $timeout((function() {\n          return deferred.resolve(datas);\n        }), 100);\n        return promise;\n      }\n    };\n  }\n]);\n\nangular.module('hm.ui.load').factory('hmUiLoad', [\n  '$q', '$timeout', '$document', function($q, $timeout, $document) {\n    var _loaded;\n    _loaded = [];\n    return {\n      loadScript: function(src) {\n        var deferred, script;\n        if (_loaded[src]) {\n          return _loaded[src].promise;\n        }\n        deferred = $q.defer();\n        script = $document[0].createElement('script');\n        script.src = src;\n        script.onload = function(e) {\n          return $timeout(function() {\n            return deferred.resolve(e);\n          });\n        };\n        script.onerror = function(e) {\n          return $timeout(function() {\n            return deferred.reject(e);\n          });\n        };\n        $document[0].body.appendChild(script);\n        _loaded[src] = deferred;\n        return deferred.promise;\n      },\n      loadCSS: function(href) {\n        var deferred, style;\n        if (_loaded[href]) {\n          return _loaded[href].promise;\n        }\n        deferred = $q.defer();\n        style = $document[0].createElement('link');\n        style.rel = 'stylesheet';\n        style.type = 'text/css';\n        style.href = href;\n        script.onload = function(e) {\n          return $timeout(function() {\n            return deferred.resolve(e);\n          });\n        };\n        script.onerror = function(e) {\n          return $timeout(function() {\n            return deferred.reject(e);\n          });\n        };\n        $document[0].body.appendChild(script);\n        _loaded[href] = deferred;\n        return deferred.promise;\n      },\n      load: function(srcs) {\n        var deferred, promise, self;\n        srcs = angular.isArray(srcs) ? srcs : srcs.split(/\\s+/);\n        self = this;\n        deferred = $q.defer();\n        promise = deferred.promise;\n        angular.forEach(srcs, function(src) {\n          return promise = promise.then(function() {\n            if (src.indexOf('.css') >= 0) {\n              return self.loadCSS(src);\n            } else {\n              return self.loadScript(src);\n            }\n          });\n        });\n        deferred.resolve();\n        return promise;\n      }\n    };\n  }\n]);\n\n\n/*\n * 调用 jquery 的plugin 插件\n */\nangular.module('hm.ui.jq', ['hm.ui.load', 'hm.log']).directive('hmUiJq', [\n  'hmUiLoad', 'hmLog', 'JQ_ASSETS_LIB', '$timeout', function(hmUiLoad, hmLog, JQ_ASSETS_LIB, $timeout) {\n    var hmUiJqCompilingFunction;\n    return {\n      restrict: 'A',\n      compile: hmUiJqCompilingFunction = function(ele, attrs) {\n        var hmUiJqLinkingFunction;\n        if (!angular.isFunction(ele[attrs.hmUiJq]) && !JQ_ASSETS_LIB[attrs.hmUiJq]) {\n          throw new Error('hm-ui-jq: The \"' + attrs.hmUiJq + '\" function does not exist');\n        }\n        return hmUiJqLinkingFunction = function(scope, ele, attrs) {\n          var callPlugin, getOptions, refresh;\n          getOptions = function() {\n            var linkOptions;\n            linkOptions = [];\n            if (attrs.uiOptions) {\n              linkOptions = scope.$eval('[' + attrs.uiOptions + ']');\n            }\n            return linkOptions;\n          };\n          callPlugin = function() {\n            return $timeout((function() {\n              return ele[attrs.hmUiJq].apply(ele, getOptions());\n            }), 0, false);\n          };\n          refresh = function() {\n            if (attrs.uiRefresh) {\n              return scope.$watch(attrs.uiRefresh, function() {\n                return callPlugin();\n              });\n            }\n          };\n          if (attrs.ngModel && ele.is('select,input,textarea')) {\n            ele.bind('change', function() {\n              return ele.trigger('input');\n            });\n          }\n          if (JQ_ASSETS_LIB[attrs.hmUiJq]) {\n            return hmUiLoad.load(JQ_ASSETS_LIB[attrs.hmUiJq]).then(function() {\n              callPlugin();\n              return refresh();\n            })[\"catch\"](function(e) {\n              return hmLog.warn(e);\n            });\n          } else {\n            callPlugin();\n            return refresh();\n          }\n        };\n      }\n    };\n  }\n]);\n\nangular.module('hm.ui.nav.tree', ['ngAnimate']).directive('hmNavTree', [\n  '$timeout', '$parse', function($timeout, $parse) {\n    return {\n      restrict: 'E',\n      template: \"<ul class=\\\"nav nav-list nav-pills nav-stacked hm-nav-tree\\\">\\n  <li ng-repeat=\\\"row in tree_rows | filter:{visible:true}\\\"\\n      ng-class=\\\"'level-{{row.branch.level}}' + (row.branch.selected ? ' active':'') + ' ' +row.branch.classes.join(' ')\\\" \\n      class=\\\"nav-tree-row\\\">\\n    <a ng-click=\\\"user_select_branch(row.branch)\\\">\\n      <i ng-class=\\\"row.branch.tree_check_icon\\\" \\n         ng-click=\\\"user_check_branch(row.branch)\\\" \\n         class=\\\"indented\\\" ng-show=\\\"tree_type == 'checkbox'\\\"> \\n      </i>\\n      <i ng-class=\\\"row.branch.tree_radio_icon\\\" \\n         ng-click=\\\"user_radio_branch(row.branch)\\\" \\n         class=\\\"indented\\\" ng-show=\\\"tree_type == 'radio'\\\"> \\n      </i>\\n      <i ng-class=\\\"row.branch.tree_icon\\\" \\n         ng-click=\\\"user_expand_branch(row.branch)\\\" \\n         class=\\\"indented\\\"> \\n      </i>\\n      <span class=\\\"indented tree-label\\\">{{ row.branch.label }} </span>\\n    </a>\\n  </li>\\n</ul>\",\n      scope: {\n        treeData: '=',\n        onSelect: '&',\n        onCheck: '&',\n        onRadio: '&',\n        loadData: '&',\n        initSelect: '@',\n        initRadio: '@',\n        initCheck: '@',\n        treeControl: '='\n      },\n      link: function(scope, element, attrs) {\n        var c_check_some, c_checked, c_tree_type_checkbox, c_tree_type_radio, c_tree_type_select, c_unchecked, check_children, checker_parent, checkes, collapse_children, expand_branch, expanded_child, expanded_parent, for_each_branch, for_each_child, for_each_parent, get_checked, get_parent, on_treeData_change, radio_branch, radioed_branch, select_branch, selected_branch, tree, uid, uncheck_children;\n        if (attrs.iconExpand == null) {\n          attrs.iconExpand = 'fa fa-plus';\n        }\n        if (attrs.iconCollapse == null) {\n          attrs.iconCollapse = 'fa fa-minus';\n        }\n        if (attrs.iconLeaf == null) {\n          attrs.iconLeaf = 'fa fa-file';\n        }\n        if (attrs.iconChecked == null) {\n          attrs.iconChecked = 'fa fa-check-square';\n        }\n        if (attrs.iconUnchecked == null) {\n          attrs.iconUnchecked = 'fa fa-square-o';\n        }\n        if (attrs.iconSomeChecked == null) {\n          attrs.iconSomeChecked = 'fa fa-square';\n        }\n        if (attrs.iconRadioed == null) {\n          attrs.iconRadioed = 'fa fa-check-circle';\n        }\n        if (attrs.iconunRadioed == null) {\n          attrs.iconunRadioed = 'fa fa-circle-o';\n        }\n        if (attrs.iconRadioForbid == null) {\n          attrs.iconRadioForbid = 'fa fa-ban fa-flip-horizontal';\n        }\n        if (attrs.radioOnlyLeaf == null) {\n          attrs.radioOnlyLeaf = true;\n        }\n        if (attrs.lazyLoad == null) {\n          attrs.lazyLoad = false;\n        }\n        if (attrs.treeType == null) {\n          attrs.treeType = 'select';\n        }\n        c_checked = 2;\n        c_check_some = 1;\n        c_unchecked = 0;\n        c_tree_type_select = 'select';\n        c_tree_type_checkbox = 'checkbox';\n        c_tree_type_radio = 'radio';\n        selected_branch = null;\n        radioed_branch = null;\n        scope.tree_rows = [];\n        scope.tree_type = attrs.treeType;\n        get_parent = function(branch) {\n          var parent;\n          parent = void 0;\n          if (branch.parent_uid) {\n            for_each_branch(function(b) {\n              if (b.uid === branch.parent_uid) {\n                return parent = b;\n              }\n            });\n          }\n          return parent;\n        };\n        for_each_child = function(branch, fn) {\n          var do_f;\n          do_f = function(branch) {\n            var child, i, len, ref, results;\n            if (!!branch.children && branch.children.length > 0) {\n              ref = branch.children;\n              results = [];\n              for (i = 0, len = ref.length; i < len; i++) {\n                child = ref[i];\n                fn(child, branch);\n                results.push(do_f(child));\n              }\n              return results;\n            }\n          };\n          return do_f(branch);\n        };\n        for_each_parent = function(branch, fn) {\n          var do_f;\n          do_f = function(branch) {\n            var parent;\n            parent = get_parent(branch);\n            if (!!parent) {\n              fn(parent, branch);\n              return do_f(parent);\n            }\n          };\n          return do_f(branch);\n        };\n        for_each_branch = function(fn) {\n          var i, len, ref, results, root_branch;\n          ref = scope.treeData;\n          results = [];\n          for (i = 0, len = ref.length; i < len; i++) {\n            root_branch = ref[i];\n            fn(root_branch);\n            results.push(for_each_child(root_branch, function(b, p) {\n              return fn(b, p);\n            }));\n          }\n          return results;\n        };\n        select_branch = function(branch) {\n          if (selected_branch != null) {\n            selected_branch.selected = false;\n            selected_branch === null;\n          }\n          branch.selected = true;\n          selected_branch = branch;\n          if (branch.onSelect != null) {\n            return $timeout(function() {\n              return branch.onSelect(branch);\n            });\n          } else if (scope.onSelect != null) {\n            return $timeout(function() {\n              return scope.onSelect({\n                branch: branch\n              });\n            });\n          }\n        };\n        scope.user_select_branch = function(branch) {\n          if (branch !== selected_branch) {\n            return select_branch(branch);\n          }\n        };\n        radio_branch = function(branch) {\n          if (radioed_branch != null) {\n            radioed_branch.radio = false;\n            radioed_branch === null;\n          }\n          branch.radio = true;\n          radioed_branch = branch;\n          if (branch.onRadio != null) {\n            return $timeout(function() {\n              return branch.onRadio(branch);\n            });\n          } else if (scope.onRadio != null) {\n            return $timeout(function() {\n              return scope.onRadio({\n                branch: branch\n              });\n            });\n          }\n        };\n        scope.user_radio_branch = function(branch) {\n          if (branch !== radioed_branch) {\n            if (branch.tree_radio_icon !== attrs.iconRadioForbid) {\n              return radio_branch(branch);\n            }\n          }\n        };\n        expanded_parent = function(branch) {\n          return for_each_parent(branch, function(p, b) {\n            var child, i, len, ref, results;\n            p.visible = true;\n            p.expanded = true;\n            ref = p.children;\n            results = [];\n            for (i = 0, len = ref.length; i < len; i++) {\n              child = ref[i];\n              results.push(child.visible = true);\n            }\n            return results;\n          });\n        };\n        expanded_child = function(branch) {\n          var child, i, len, ref, results;\n          branch.expanded = true;\n          if (!!branch.children && branch.children.length > 0) {\n            ref = branch.children;\n            results = [];\n            for (i = 0, len = ref.length; i < len; i++) {\n              child = ref[i];\n              results.push(child.visible = true);\n            }\n            return results;\n          }\n        };\n        collapse_children = function(branch) {\n          branch.expanded = false;\n          return for_each_child(branch, function(b) {\n            b.expanded = false;\n            return b.visible = false;\n          });\n        };\n        expand_branch = function(branch) {\n          branch.expanded = !branch.expanded;\n          if (branch.expanded) {\n            return expanded_child(branch);\n          } else {\n            return collapse_children(branch);\n          }\n        };\n        scope.user_expand_branch = function(branch) {\n          if (attrs.lazyLoad && !branch.leaf && (!branch.children || branch.children.length === 0)) {\n            if (scope.loadData != null) {\n              return $timeout(function() {\n                var data, datas, i, len;\n                datas = scope.loadData({\n                  branch: branch\n                });\n                if (!datas || datas.length === 0) {\n                  return branch.leaf = true;\n                } else {\n                  for (i = 0, len = datas.length; i < len; i++) {\n                    data = datas[i];\n                    data.parent_uid = branch.uid;\n                    data.checked = branch.checked;\n                  }\n                  branch.children = datas;\n                  return expand_branch(branch);\n                }\n              });\n            } else {\n              return branch.leaf = true;\n            }\n          } else {\n            return expand_branch(branch);\n          }\n        };\n        get_checked = function() {\n          var check_array, do_f, i, len, ref, root_branch;\n          do_f = function(branch, fn) {\n            var child, i, len, ref, results;\n            if (branch.checked === c_checked) {\n              return fn(branch);\n            } else if (branch.checked === c_check_some) {\n              if (!!branch.children && branch.children.length > 0) {\n                ref = branch.children;\n                results = [];\n                for (i = 0, len = ref.length; i < len; i++) {\n                  child = ref[i];\n                  results.push(do_f(child, fn));\n                }\n                return results;\n              }\n            }\n          };\n          check_array = [];\n          ref = scope.treeData;\n          for (i = 0, len = ref.length; i < len; i++) {\n            root_branch = ref[i];\n            do_f(root_branch, function(branch) {\n              return check_array.push(branch);\n            });\n          }\n          return check_array;\n        };\n        check_children = function(branch) {\n          return for_each_child(branch, function(b) {\n            var child, i, len, ref, results;\n            b.checked = c_checked;\n            if (!!b.children && b.children.length > 0) {\n              ref = b.children;\n              results = [];\n              for (i = 0, len = ref.length; i < len; i++) {\n                child = ref[i];\n                results.push(child.checked = c_checked);\n              }\n              return results;\n            }\n          });\n        };\n        uncheck_children = function(branch) {\n          return for_each_child(branch, function(b) {\n            var child, i, len, ref, results;\n            b.checked = c_unchecked;\n            if (!!b.children && b.children.length > 0) {\n              ref = b.children;\n              results = [];\n              for (i = 0, len = ref.length; i < len; i++) {\n                child = ref[i];\n                results.push(child.checked = c_unchecked);\n              }\n              return results;\n            }\n          });\n        };\n        checker_parent = function(branch) {\n          return for_each_parent(branch, function(parent) {\n            var checked, child, children, i, len, total, unchecked;\n            children = parent.children;\n            total = children.length;\n            checked = 0;\n            unchecked = 0;\n            for (i = 0, len = children.length; i < len; i++) {\n              child = children[i];\n              if (child.checked === c_checked) {\n                checked = checked + 1;\n              } else if (child.checked === c_unchecked) {\n                unchecked = unchecked + 1;\n              }\n            }\n            if (total === checked) {\n              return parent.checked = c_checked;\n            } else if (total === unchecked) {\n              return parent.checked = c_unchecked;\n            } else {\n              return parent.checked = c_check_some;\n            }\n          });\n        };\n        scope.user_check_branch = function(branch) {\n          if (branch.checked === c_checked) {\n            branch.checked = c_unchecked;\n            uncheck_children(branch);\n          } else if (branch.checked === c_unchecked) {\n            branch.checked = c_checked;\n            check_children(branch);\n          } else {\n            branch.checked = c_checked;\n            check_children(branch);\n          }\n          checker_parent(branch);\n          if (branch.onCheck != null) {\n            return $timeout(function() {\n              return branch.onCheck(branch);\n            });\n          } else if (scope.onCheck != null) {\n            return $timeout(function() {\n              var branches;\n              branches = get_checked();\n              return scope.onCheck({\n                branches: branches\n              });\n            });\n          }\n        };\n        on_treeData_change = function() {\n          scope.tree_rows = [];\n          return for_each_branch(function(branch, parent) {\n            if (branch.uid == null) {\n              branch.uid = \"\" + Math.random();\n            }\n            if (branch.visible == null) {\n              if (!parent) {\n                branch.visible = true;\n              } else {\n                branch.visible = false;\n              }\n            }\n            if (branch.expanded == null) {\n              branch.expanded = false;\n            }\n            if (branch.checked == null) {\n              branch.checked = c_unchecked;\n            }\n            if (branch.radio == null) {\n              branch.radio = false;\n            }\n            if (branch.children == null) {\n              branch.children = [];\n            }\n            if (branch.leaf == null) {\n              if (attrs.lazyLoad) {\n                branch.leaf = false;\n              } else {\n                if (!branch.children || branch.children.length === 0) {\n                  branch.leaf = true;\n                } else {\n                  branch.leaf = false;\n                }\n              }\n            }\n            if (!!parent) {\n              branch.level = parent.level + 1;\n              branch.parent_uid = parent.uid;\n            } else {\n              branch.level = 1;\n            }\n            if (branch.leaf) {\n              branch.tree_icon = attrs.iconLeaf;\n            } else if (branch.expanded) {\n              branch.tree_icon = attrs.iconCollapse;\n            } else {\n              branch.tree_icon = attrs.iconExpand;\n            }\n            if (branch.checked === c_checked) {\n              branch.tree_check_icon = attrs.iconChecked;\n            } else if (branch.checked === c_unchecked) {\n              branch.tree_check_icon = attrs.iconUnchecked;\n            } else {\n              branch.tree_check_icon = attrs.iconSomeChecked;\n            }\n            if (branch.radio) {\n              branch.tree_radio_icon = attrs.iconRadioed;\n            } else if (!branch.leaf && attrs.radioOnlyLeaf) {\n              branch.tree_radio_icon = attrs.iconRadioForbid;\n            } else {\n              branch.tree_radio_icon = attrs.iconunRadioed;\n            }\n            return scope.tree_rows.push({\n              branch: branch,\n              visible: branch.visible\n            });\n          });\n        };\n        scope.$watch('treeData', on_treeData_change, true);\n        if ((attrs.initSelect != null) && !attrs.lazyLoad) {\n          uid = attrs.initSelect;\n          $timeout(function() {\n            var do_f, i, len, ref, results, root_branch;\n            do_f = function(branch) {\n              var child, i, len, ref, results;\n              if (branch.uid === uid) {\n                branch.selected = true;\n                branch.visible = true;\n                return expanded_parent(branch);\n              } else {\n                if (!!branch.children && branch.children.length > 0) {\n                  ref = branch.children;\n                  results = [];\n                  for (i = 0, len = ref.length; i < len; i++) {\n                    child = ref[i];\n                    results.push(do_f(child));\n                  }\n                  return results;\n                }\n              }\n            };\n            ref = scope.treeData;\n            results = [];\n            for (i = 0, len = ref.length; i < len; i++) {\n              root_branch = ref[i];\n              results.push(do_f(root_branch));\n            }\n            return results;\n          });\n        }\n        if ((attrs.initRadio != null) && attrs.treeType === c_tree_type_radio && !attrs.lazyLoad) {\n          uid = attrs.initRadio;\n          $timeout(function() {\n            var do_f, i, len, ref, results, root_branch;\n            do_f = function(branch) {\n              var child, i, len, ref, results;\n              if (branch.uid === uid) {\n                branch.radio = true;\n                branch.selected = true;\n                branch.visible = true;\n                return expanded_parent(branch);\n              } else {\n                if (!!branch.children && branch.children.length > 0) {\n                  ref = branch.children;\n                  results = [];\n                  for (i = 0, len = ref.length; i < len; i++) {\n                    child = ref[i];\n                    results.push(do_f(child));\n                  }\n                  return results;\n                }\n              }\n            };\n            ref = scope.treeData;\n            results = [];\n            for (i = 0, len = ref.length; i < len; i++) {\n              root_branch = ref[i];\n              results.push(do_f(root_branch));\n            }\n            return results;\n          });\n        }\n        if ((attrs.initCheck != null) && attrs.treeType === c_tree_type_checkbox && !attrs.lazyLoad) {\n          checkes = scope.$eval(attrs.initCheck);\n          if (!!checkes && checkes.length > 0) {\n            $timeout(function() {\n              var do_f, i, len, ref, results, root_branch;\n              do_f = function(branch) {\n                var child, i, len, results;\n                results = [];\n                for (i = 0, len = checkes.length; i < len; i++) {\n                  uid = checkes[i];\n                  if (branch.uid === uid) {\n                    branch.checked = c_checked;\n                    branch.visible = true;\n                    expanded_parent(branch);\n                    results.push(checker_parent(branch));\n                  } else {\n                    if (!!branch.children && branch.children.length > 0) {\n                      results.push((function() {\n                        var j, len1, ref, results1;\n                        ref = branch.children;\n                        results1 = [];\n                        for (j = 0, len1 = ref.length; j < len1; j++) {\n                          child = ref[j];\n                          results1.push(do_f(child));\n                        }\n                        return results1;\n                      })());\n                    } else {\n                      results.push(void 0);\n                    }\n                  }\n                }\n                return results;\n              };\n              ref = scope.treeData;\n              results = [];\n              for (i = 0, len = ref.length; i < len; i++) {\n                root_branch = ref[i];\n                results.push(do_f(root_branch));\n              }\n              return results;\n            });\n          }\n        }\n        if ((scope.treeControl != null) && angular.isObject(scope.treeControl)) {\n          tree = scope.treeControl;\n          return tree.getCheckes = function() {\n            return get_checked();\n          };\n        }\n      }\n    };\n  }\n]);\n\n\n/*\n * 全屏\n */\nangular.module('hm.ui.screenfull', ['hm.ui.load']).directive('hmUiScreenfull', [\n  'hmUiLoad', 'ASSETS_LIB', '$document', function(hmUiLoad, ASSETS_LIB, $document) {\n    return {\n      restrict: 'AC',\n      template: '<i class=\"fa fa-expand fa-fw text\"></i><i class=\"fa fa-compress fa-fw text-active\"></i>',\n      link: function(scope, ele, attrs) {\n        ele.addClass('hide');\n        return hmUiLoad.load(ASSETS_LIB.screenfull).then(function() {\n          var screenfull;\n          screenfull = window.screenfull;\n          if (screenfull.enabled && !navigator.userAgent.match(/Trident.*rv:11\\./)) {\n            ele.removeClass('hide');\n          }\n          ele.on('click', function() {\n            var target;\n            attrs.target && (target = $(attrs.target)[0]);\n            return screenfull.toggle(target);\n          });\n          return $document.on(screenfull.raw.fullscreenchange, function() {\n            if (screenfull.isFullscreen) {\n              return ele.addClass('active');\n            } else {\n              return ele.removeClass('active');\n            }\n          });\n        });\n      }\n    };\n  }\n]);\n\n\n/*\n * 点击指令的元素,让target对应元素toggle样式\n */\nangular.module('hm.ui.toggleClass', []).directive('hmUiToggleClass', [\n  function() {\n    return {\n      restrict: 'AC',\n      link: function(scope, ele, attrs) {\n        return ele.on('click', function(e) {\n          var classes, key, targets;\n          e.preventDefault();\n          classes = attrs.hmUiToggleClass.split(',');\n          targets = attrs.target ? attrs.target.split(',') : Array(ele);\n          key = 0;\n          angular.forEach(classes, function(_class) {\n            var target;\n            target = targets[targets.length && key];\n            $(target).toggleClass(_class);\n            return key += 1;\n          });\n          return $(ele).toggleClass('active');\n        });\n      }\n    };\n  }\n]);\n"],"sourceRoot":"/source/"}